
This is a first cut at moving from Travis to CircleCI for
cyber-dojo-languages repos.
However, there is an important difference between
1) trigger a CircleCI workflow by pushing a commit to an actual git repo
2) trigger a CircleCI workflow via a CircleCI API POST
To see the big difference between these two consider doing 1) twice in a row
vs doing 2) twice in a row...
1)1) will result in two git commits each with a unique 40 char commit SHA
which will result in two tagged images pushed to dockerhub.
2)2) will result in creating an image with a specific tag and then
overwriting that image with another different one having the same tag.
In other words, images are no longer immutable. Not good.
So before going ahead with this I will look into creating a
machine-user and using option 1)
